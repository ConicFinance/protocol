{"abi": [{"inputs": [{"internalType": "address", "name": "genericOracle_", "type": "address"}], "stateMutability": "nonpayable", "type": "constructor", "name": "constructor"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "token", "type": "address"}, {"indexed": false, "internalType": "address", "name": "feed", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "maxDelay", "type": "uint256"}, {"indexed": false, "internalType": "bool", "name": "isEthPrice", "type": "bool"}], "name": "TokenUpdated", "type": "event"}, {"inputs": [{"internalType": "address", "name": "token_", "type": "address"}], "name": "getUSDPrice", "outputs": [{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "token_", "type": "address"}], "name": "isTokenSupported", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "pure", "type": "function"}], "allSourcePaths": {"110": "libraries/ScaledMath.sol", "40": "contracts/oracles/CrvUsdOracle.sol", "73": "interfaces/IOracle.sol"}, "ast": {"absolutePath": "contracts/oracles/CrvUsdOracle.sol", "exportedSymbols": {"CrvUsdOracle": [20058], "ICurvePriceOracle": [19855], "IOracle": [34553], "ScaledMath": [31417]}, "id": 20059, "license": "GPL-3.0-or-later", "nodeType": "SourceUnit", "nodes": [{"id": 19847, "literals": ["solidity", "0.8", ".17"], "nodeType": "PragmaDirective", "src": "45:23:40"}, {"absolutePath": "interfaces/IOracle.sol", "file": "../../interfaces/IOracle.sol", "id": 19848, "nameLocation": "-1:-1:-1", "nodeType": "ImportDirective", "scope": 20059, "sourceUnit": 34554, "src": "70:38:40", "symbolAliases": [], "unitAlias": ""}, {"absolutePath": "libraries/ScaledMath.sol", "file": "../../libraries/ScaledMath.sol", "id": 19849, "nameLocation": "-1:-1:-1", "nodeType": "ImportDirective", "scope": 20059, "sourceUnit": 31418, "src": "109:40:40", "symbolAliases": [], "unitAlias": ""}, {"abstract": false, "baseContracts": [], "canonicalName": "ICurvePriceOracle", "contractDependencies": [], "contractKind": "interface", "fullyImplemented": false, "id": 19855, "linearizedBaseContracts": [19855], "name": "ICurvePriceOracle", "nameLocation": "161:17:40", "nodeType": "ContractDefinition", "nodes": [{"functionSelector": "86fc88d3", "id": 19854, "implemented": false, "kind": "function", "modifiers": [], "name": "price_oracle", "nameLocation": "194:12:40", "nodeType": "FunctionDefinition", "parameters": {"id": 19850, "nodeType": "ParameterList", "parameters": [], "src": "206:2:40"}, "returnParameters": {"id": 19853, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 19852, "mutability": "mutable", "name": "", "nameLocation": "-1:-1:-1", "nodeType": "VariableDeclaration", "scope": 19854, "src": "232:7:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 19851, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "232:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "231:9:40"}, "scope": 19855, "src": "185:56:40", "stateMutability": "view", "virtual": false, "visibility": "external"}], "scope": 20059, "src": "151:92:40", "usedErrors": []}, {"abstract": false, "baseContracts": [{"baseName": {"id": 19856, "name": "IOracle", "nameLocations": ["270:7:40"], "nodeType": "IdentifierPath", "referencedDeclaration": 34553, "src": "270:7:40"}, "id": 19857, "nodeType": "InheritanceSpecifier", "src": "270:7:40"}], "canonicalName": "CrvUsdOracle", "contractDependencies": [], "contractKind": "contract", "fullyImplemented": true, "id": 20058, "linearizedBaseContracts": [20058, 34553], "name": "CrvUsdOracle", "nameLocation": "254:12:40", "nodeType": "ContractDefinition", "nodes": [{"global": false, "id": 19860, "libraryName": {"id": 19858, "name": "ScaledMath", "nameLocations": ["290:10:40"], "nodeType": "IdentifierPath", "referencedDeclaration": 31417, "src": "290:10:40"}, "nodeType": "UsingForDirective", "src": "284:29:40", "typeName": {"id": 19859, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "305:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}}, {"constant": true, "id": 19866, "mutability": "constant", "name": "_CRVUSD", "nameLocation": "359:7:40", "nodeType": "VariableDeclaration", "scope": 20058, "src": "333:87:40", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19861, "name": "address", "nodeType": "ElementaryTypeName", "src": "333:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "value": {"arguments": [{"hexValue": "307866393339453041303346423037463539413733333134453733373934426530453537616331623445", "id": 19864, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "377:42:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "value": "0xf939E0A03FB07F59A73314E73794Be0E57ac1b4E"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19863, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "369:7:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 19862, "name": "address", "nodeType": "ElementaryTypeName", "src": "369:7:40", "typeDescriptions": {}}}, "id": 19865, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "369:51:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": true, "id": 19872, "mutability": "constant", "name": "_USDC", "nameLocation": "452:5:40", "nodeType": "VariableDeclaration", "scope": 20058, "src": "426:85:40", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19867, "name": "address", "nodeType": "ElementaryTypeName", "src": "426:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "value": {"arguments": [{"hexValue": "307841306238363939316336323138623336633164313944346132653945623063453336303665423438", "id": 19870, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "468:42:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "value": "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19869, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "460:7:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 19868, "name": "address", "nodeType": "ElementaryTypeName", "src": "460:7:40", "typeDescriptions": {}}}, "id": 19871, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "460:51:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": true, "id": 19878, "mutability": "constant", "name": "_USDT", "nameLocation": "543:5:40", "nodeType": "VariableDeclaration", "scope": 20058, "src": "517:85:40", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19873, "name": "address", "nodeType": "ElementaryTypeName", "src": "517:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "value": {"arguments": [{"hexValue": "307864414331374639353844326565353233613232303632303639393435393743313344383331656337", "id": 19876, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "559:42:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "value": "0xdAC17F958D2ee523a2206206994597C13D831ec7"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19875, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "551:7:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 19874, "name": "address", "nodeType": "ElementaryTypeName", "src": "551:7:40", "typeDescriptions": {}}}, "id": 19877, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "551:51:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": true, "id": 19884, "mutability": "constant", "name": "_USDP", "nameLocation": "634:5:40", "nodeType": "VariableDeclaration", "scope": 20058, "src": "608:85:40", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19879, "name": "address", "nodeType": "ElementaryTypeName", "src": "608:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "value": {"arguments": [{"hexValue": "307838453837304436374636363044393564356265353330333830443065433062643338383238394531", "id": 19882, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "650:42:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "value": "0x8E870D67F660D95d5be530380D0eC0bd388289E1"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19881, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "642:7:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 19880, "name": "address", "nodeType": "ElementaryTypeName", "src": "642:7:40", "typeDescriptions": {}}}, "id": 19883, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "642:51:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": true, "id": 19890, "mutability": "constant", "name": "_CRVUSD_USDC", "nameLocation": "745:12:40", "nodeType": "VariableDeclaration", "scope": 20058, "src": "719:92:40", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19885, "name": "address", "nodeType": "ElementaryTypeName", "src": "719:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "value": {"arguments": [{"hexValue": "307834444563453637386365636562323734343662333543363732644337643631463330624144363945", "id": 19888, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "768:42:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "value": "0x4DEcE678ceceb27446b35C672dC7d61F30bAD69E"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19887, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "760:7:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 19886, "name": "address", "nodeType": "ElementaryTypeName", "src": "760:7:40", "typeDescriptions": {}}}, "id": 19889, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "760:51:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": true, "id": 19896, "mutability": "constant", "name": "_CRVUSD_USDT", "nameLocation": "843:12:40", "nodeType": "VariableDeclaration", "scope": 20058, "src": "817:92:40", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19891, "name": "address", "nodeType": "ElementaryTypeName", "src": "817:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "value": {"arguments": [{"hexValue": "307833393066333539356243613244663764323337383364466431323634323743436562393937424634", "id": 19894, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "866:42:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "value": "0x390f3595bCa2Df7d23783dFd126427CCeb997BF4"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19893, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "858:7:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 19892, "name": "address", "nodeType": "ElementaryTypeName", "src": "858:7:40", "typeDescriptions": {}}}, "id": 19895, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "858:51:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": true, "id": 19902, "mutability": "constant", "name": "_CRVUSD_USDP", "nameLocation": "941:12:40", "nodeType": "VariableDeclaration", "scope": 20058, "src": "915:92:40", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19897, "name": "address", "nodeType": "ElementaryTypeName", "src": "915:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "value": {"arguments": [{"hexValue": "307843613937384130353238313136444441336362413941434433653638626336313931434135334430", "id": 19900, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "964:42:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "value": "0xCa978A0528116DDA3cbA9ACD3e68bc6191CA53D0"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19899, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "956:7:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 19898, "name": "address", "nodeType": "ElementaryTypeName", "src": "956:7:40", "typeDescriptions": {}}}, "id": 19901, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "956:51:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 19905, "mutability": "immutable", "name": "_genericOracle", "nameLocation": "1041:14:40", "nodeType": "VariableDeclaration", "scope": 20058, "src": "1014:41:40", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_contract$_IOracle_$34553", "typeString": "contract IOracle"}, "typeName": {"id": 19904, "nodeType": "UserDefinedTypeName", "pathNode": {"id": 19903, "name": "IOracle", "nameLocations": ["1014:7:40"], "nodeType": "IdentifierPath", "referencedDeclaration": 34553, "src": "1014:7:40"}, "referencedDeclaration": 34553, "src": "1014:7:40", "typeDescriptions": {"typeIdentifier": "t_contract$_IOracle_$34553", "typeString": "contract IOracle"}}, "visibility": "internal"}, {"body": {"id": 19916, "nodeType": "Block", "src": "1098:57:40", "statements": [{"expression": {"id": 19914, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": {"id": 19910, "name": "_genericOracle", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19905, "src": "1108:14:40", "typeDescriptions": {"typeIdentifier": "t_contract$_IOracle_$34553", "typeString": "contract IOracle"}}, "nodeType": "Assignment", "operator": "=", "rightHandSide": {"arguments": [{"id": 19912, "name": "genericOracle_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19907, "src": "1133:14:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19911, "name": "IOracle", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 34553, "src": "1125:7:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_contract$_IOracle_$34553_$", "typeString": "type(contract IOracle)"}}, "id": 19913, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1125:23:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_contract$_IOracle_$34553", "typeString": "contract IOracle"}}, "src": "1108:40:40", "typeDescriptions": {"typeIdentifier": "t_contract$_IOracle_$34553", "typeString": "contract IOracle"}}, "id": 19915, "nodeType": "ExpressionStatement", "src": "1108:40:40"}]}, "id": 19917, "implemented": true, "kind": "constructor", "modifiers": [], "name": "", "nameLocation": "-1:-1:-1", "nodeType": "FunctionDefinition", "parameters": {"id": 19908, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 19907, "mutability": "mutable", "name": "genericOracle_", "nameLocation": "1082:14:40", "nodeType": "VariableDeclaration", "scope": 19917, "src": "1074:22:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19906, "name": "address", "nodeType": "ElementaryTypeName", "src": "1074:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}], "src": "1073:24:40"}, "returnParameters": {"id": 19909, "nodeType": "ParameterList", "parameters": [], "src": "1098:0:40"}, "scope": 20058, "src": "1062:93:40", "stateMutability": "nonpayable", "virtual": false, "visibility": "public"}, {"baseFunctions": [34544], "body": {"id": 19959, "nodeType": "Block", "src": "1239:394:40", "statements": [{"expression": {"arguments": [{"arguments": [{"id": 19927, "name": "token_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19919, "src": "1274:6:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19926, "name": "isTokenSupported", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19973, "src": "1257:16:40", "typeDescriptions": {"typeIdentifier": "t_function_internal_pure$_t_address_$returns$_t_bool_$", "typeString": "function (address) pure returns (bool)"}}, "id": 19928, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1257:24:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, {"hexValue": "746f6b656e206e6f7420737570706f72746564", "id": 19929, "isConstant": false, "isLValue": false, "isPure": true, "kind": "string", "lValueRequested": false, "nodeType": "Literal", "src": "1283:21:40", "typeDescriptions": {"typeIdentifier": "t_stringliteral_01692aaaca22efb7697e71aaf6f8484c15d22118011d1d8c112ea43de7f65ddf", "typeString": "literal_string \"token not supported\""}, "value": "token not supported"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bool", "typeString": "bool"}, {"typeIdentifier": "t_stringliteral_01692aaaca22efb7697e71aaf6f8484c15d22118011d1d8c112ea43de7f65ddf", "typeString": "literal_string \"token not supported\""}], "id": 19925, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [-18, -18], "referencedDeclaration": -18, "src": "1249:7:40", "typeDescriptions": {"typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$", "typeString": "function (bool,string memory) pure"}}, "id": 19930, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1249:56:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 19931, "nodeType": "ExpressionStatement", "src": "1249:56:40"}, {"assignments": [19933], "declarations": [{"constant": false, "id": 19933, "mutability": "mutable", "name": "priceFromUsdc_", "nameLocation": "1323:14:40", "nodeType": "VariableDeclaration", "scope": 19959, "src": "1315:22:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 19932, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1315:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 19938, "initialValue": {"arguments": [{"id": 19935, "name": "_CRVUSD_USDC", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19890, "src": "1368:12:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"id": 19936, "name": "_USDC", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19872, "src": "1382:5:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_address", "typeString": "address"}], "id": 19934, "name": "_getCrvUsdPriceForCurvePool", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20003, "src": "1340:27:40", "typeDescriptions": {"typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_uint256_$", "typeString": "function (address,address) view returns (uint256)"}}, "id": 19937, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1340:48:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "1315:73:40"}, {"assignments": [19940], "declarations": [{"constant": false, "id": 19940, "mutability": "mutable", "name": "priceFromUsdt_", "nameLocation": "1406:14:40", "nodeType": "VariableDeclaration", "scope": 19959, "src": "1398:22:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 19939, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1398:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 19945, "initialValue": {"arguments": [{"id": 19942, "name": "_CRVUSD_USDT", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19896, "src": "1451:12:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"id": 19943, "name": "_USDT", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19878, "src": "1465:5:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_address", "typeString": "address"}], "id": 19941, "name": "_getCrvUsdPriceForCurvePool", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20003, "src": "1423:27:40", "typeDescriptions": {"typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_uint256_$", "typeString": "function (address,address) view returns (uint256)"}}, "id": 19944, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1423:48:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "1398:73:40"}, {"assignments": [19947], "declarations": [{"constant": false, "id": 19947, "mutability": "mutable", "name": "priceFromUsdp_", "nameLocation": "1489:14:40", "nodeType": "VariableDeclaration", "scope": 19959, "src": "1481:22:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 19946, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1481:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 19952, "initialValue": {"arguments": [{"id": 19949, "name": "_CRVUSD_USDP", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19902, "src": "1534:12:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"id": 19950, "name": "_USDP", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19884, "src": "1548:5:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_address", "typeString": "address"}], "id": 19948, "name": "_getCrvUsdPriceForCurvePool", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20003, "src": "1506:27:40", "typeDescriptions": {"typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_uint256_$", "typeString": "function (address,address) view returns (uint256)"}}, "id": 19951, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1506:48:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "1481:73:40"}, {"expression": {"arguments": [{"id": 19954, "name": "priceFromUsdc_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19933, "src": "1579:14:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"id": 19955, "name": "priceFromUsdt_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19940, "src": "1595:14:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, {"id": 19956, "name": "priceFromUsdp_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19947, "src": "1611:14:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}], "id": 19953, "name": "_median", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20057, "src": "1571:7:40", "typeDescriptions": {"typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$", "typeString": "function (uint256,uint256,uint256) pure returns (uint256)"}}, "id": 19957, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1571:55:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "functionReturnParameters": 19924, "id": 19958, "nodeType": "Return", "src": "1564:62:40"}]}, "functionSelector": "8b2f0f4f", "id": 19960, "implemented": true, "kind": "function", "modifiers": [], "name": "getUSDPrice", "nameLocation": "1170:11:40", "nodeType": "FunctionDefinition", "overrides": {"id": 19921, "nodeType": "OverrideSpecifier", "overrides": [], "src": "1212:8:40"}, "parameters": {"id": 19920, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 19919, "mutability": "mutable", "name": "token_", "nameLocation": "1190:6:40", "nodeType": "VariableDeclaration", "scope": 19960, "src": "1182:14:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19918, "name": "address", "nodeType": "ElementaryTypeName", "src": "1182:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}], "src": "1181:16:40"}, "returnParameters": {"id": 19924, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 19923, "mutability": "mutable", "name": "", "nameLocation": "-1:-1:-1", "nodeType": "VariableDeclaration", "scope": 19960, "src": "1230:7:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 19922, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1230:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "1229:9:40"}, "scope": 20058, "src": "1161:472:40", "stateMutability": "view", "virtual": false, "visibility": "external"}, {"baseFunctions": [34552], "body": {"id": 19972, "nodeType": "Block", "src": "1717:41:40", "statements": [{"expression": {"commonType": {"typeIdentifier": "t_address", "typeString": "address"}, "id": 19970, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 19968, "name": "token_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19962, "src": "1734:6:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "nodeType": "BinaryOperation", "operator": "==", "rightExpression": {"id": 19969, "name": "_CRVUSD", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19866, "src": "1744:7:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "src": "1734:17:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "functionReturnParameters": 19967, "id": 19971, "nodeType": "Return", "src": "1727:24:40"}]}, "functionSelector": "75151b63", "id": 19973, "implemented": true, "kind": "function", "modifiers": [], "name": "isTokenSupported", "nameLocation": "1648:16:40", "nodeType": "FunctionDefinition", "overrides": {"id": 19964, "nodeType": "OverrideSpecifier", "overrides": [], "src": "1693:8:40"}, "parameters": {"id": 19963, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 19962, "mutability": "mutable", "name": "token_", "nameLocation": "1673:6:40", "nodeType": "VariableDeclaration", "scope": 19973, "src": "1665:14:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19961, "name": "address", "nodeType": "ElementaryTypeName", "src": "1665:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}], "src": "1664:16:40"}, "returnParameters": {"id": 19967, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 19966, "mutability": "mutable", "name": "", "nameLocation": "-1:-1:-1", "nodeType": "VariableDeclaration", "scope": 19973, "src": "1711:4:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}, "typeName": {"id": 19965, "name": "bool", "nodeType": "ElementaryTypeName", "src": "1711:4:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "visibility": "internal"}], "src": "1710:6:40"}, "scope": 20058, "src": "1639:119:40", "stateMutability": "pure", "virtual": false, "visibility": "public"}, {"body": {"id": 20002, "nodeType": "Block", "src": "1891:206:40", "statements": [{"assignments": [19983], "declarations": [{"constant": false, "id": 19983, "mutability": "mutable", "name": "tokenPrice_", "nameLocation": "1909:11:40", "nodeType": "VariableDeclaration", "scope": 20002, "src": "1901:19:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 19982, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1901:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 19988, "initialValue": {"arguments": [{"id": 19986, "name": "token_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19977, "src": "1950:6:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "expression": {"id": 19984, "name": "_genericOracle", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19905, "src": "1923:14:40", "typeDescriptions": {"typeIdentifier": "t_contract$_IOracle_$34553", "typeString": "contract IOracle"}}, "id": 19985, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberLocation": "1938:11:40", "memberName": "getUSDPrice", "nodeType": "MemberAccess", "referencedDeclaration": 34544, "src": "1923:26:40", "typeDescriptions": {"typeIdentifier": "t_function_external_view$_t_address_$returns$_t_uint256_$", "typeString": "function (address) view external returns (uint256)"}}, "id": 19987, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1923:34:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "1901:56:40"}, {"assignments": [19990], "declarations": [{"constant": false, "id": 19990, "mutability": "mutable", "name": "tokenPerCrvUsd_", "nameLocation": "1975:15:40", "nodeType": "VariableDeclaration", "scope": 20002, "src": "1967:23:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 19989, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1967:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 19996, "initialValue": {"arguments": [], "expression": {"argumentTypes": [], "expression": {"arguments": [{"id": 19992, "name": "curvePool_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19975, "src": "2011:10:40", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 19991, "name": "ICurvePriceOracle", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19855, "src": "1993:17:40", "typeDescriptions": {"typeIdentifier": "t_type$_t_contract$_ICurvePriceOracle_$19855_$", "typeString": "type(contract ICurvePriceOracle)"}}, "id": 19993, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1993:29:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_contract$_ICurvePriceOracle_$19855", "typeString": "contract ICurvePriceOracle"}}, "id": 19994, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberLocation": "2023:12:40", "memberName": "price_oracle", "nodeType": "MemberAccess", "referencedDeclaration": 19854, "src": "1993:42:40", "typeDescriptions": {"typeIdentifier": "t_function_external_view$__$returns$_t_uint256_$", "typeString": "function () view external returns (uint256)"}}, "id": 19995, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "1993:44:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "1967:70:40"}, {"expression": {"arguments": [{"id": 19999, "name": "tokenPerCrvUsd_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19990, "src": "2074:15:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_uint256", "typeString": "uint256"}], "expression": {"id": 19997, "name": "tokenPrice_", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 19983, "src": "2054:11:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "id": 19998, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberLocation": "2066:7:40", "memberName": "mulDown", "nodeType": "MemberAccess", "referencedDeclaration": 30982, "src": "2054:19:40", "typeDescriptions": {"typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$", "typeString": "function (uint256,uint256) pure returns (uint256)"}}, "id": 20000, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "nameLocations": [], "names": [], "nodeType": "FunctionCall", "src": "2054:36:40", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "functionReturnParameters": 19981, "id": 20001, "nodeType": "Return", "src": "2047:43:40"}]}, "id": 20003, "implemented": true, "kind": "function", "modifiers": [], "name": "_getCrvUsdPriceForCurvePool", "nameLocation": "1773:27:40", "nodeType": "FunctionDefinition", "parameters": {"id": 19978, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 19975, "mutability": "mutable", "name": "curvePool_", "nameLocation": "1818:10:40", "nodeType": "VariableDeclaration", "scope": 20003, "src": "1810:18:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19974, "name": "address", "nodeType": "ElementaryTypeName", "src": "1810:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 19977, "mutability": "mutable", "name": "token_", "nameLocation": "1846:6:40", "nodeType": "VariableDeclaration", "scope": 20003, "src": "1838:14:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 19976, "name": "address", "nodeType": "ElementaryTypeName", "src": "1838:7:40", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}], "src": "1800:58:40"}, "returnParameters": {"id": 19981, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 19980, "mutability": "mutable", "name": "", "nameLocation": "-1:-1:-1", "nodeType": "VariableDeclaration", "scope": 20003, "src": "1882:7:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 19979, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1882:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "1881:9:40"}, "scope": 20058, "src": "1764:333:40", "stateMutability": "view", "virtual": false, "visibility": "internal"}, {"body": {"id": 20056, "nodeType": "Block", "src": "2185:153:40", "statements": [{"condition": {"commonType": {"typeIdentifier": "t_bool", "typeString": "bool"}, "id": 20030, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"components": [{"commonType": {"typeIdentifier": "t_bool", "typeString": "bool"}, "id": 20020, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 20016, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 20014, "name": "a", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20005, "src": "2200:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": {"id": 20015, "name": "b", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20007, "src": "2205:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2200:6:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "nodeType": "BinaryOperation", "operator": "&&", "rightExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 20019, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 20017, "name": "a", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20005, "src": "2210:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "<=", "rightExpression": {"id": 20018, "name": "c", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20009, "src": "2215:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2210:6:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "src": "2200:16:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}], "id": 20021, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "2199:18:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "nodeType": "BinaryOperation", "operator": "||", "rightExpression": {"components": [{"commonType": {"typeIdentifier": "t_bool", "typeString": "bool"}, "id": 20028, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 20024, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 20022, "name": "a", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20005, "src": "2222:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": {"id": 20023, "name": "c", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20009, "src": "2227:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2222:6:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "nodeType": "BinaryOperation", "operator": "&&", "rightExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 20027, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 20025, "name": "a", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20005, "src": "2232:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "<=", "rightExpression": {"id": 20026, "name": "b", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20007, "src": "2237:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2232:6:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "src": "2222:16:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}], "id": 20029, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "2221:18:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "src": "2199:40:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "id": 20033, "nodeType": "IfStatement", "src": "2195:54:40", "trueBody": {"expression": {"id": 20031, "name": "a", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20005, "src": "2248:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "functionReturnParameters": 20013, "id": 20032, "nodeType": "Return", "src": "2241:8:40"}}, {"condition": {"commonType": {"typeIdentifier": "t_bool", "typeString": "bool"}, "id": 20050, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"components": [{"commonType": {"typeIdentifier": "t_bool", "typeString": "bool"}, "id": 20040, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 20036, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 20034, "name": "b", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20007, "src": "2264:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": {"id": 20035, "name": "a", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20005, "src": "2269:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2264:6:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "nodeType": "BinaryOperation", "operator": "&&", "rightExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 20039, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 20037, "name": "b", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20007, "src": "2274:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "<=", "rightExpression": {"id": 20038, "name": "c", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20009, "src": "2279:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2274:6:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "src": "2264:16:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}], "id": 20041, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "2263:18:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "nodeType": "BinaryOperation", "operator": "||", "rightExpression": {"components": [{"commonType": {"typeIdentifier": "t_bool", "typeString": "bool"}, "id": 20048, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 20044, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 20042, "name": "b", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20007, "src": "2286:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": {"id": 20043, "name": "c", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20009, "src": "2291:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2286:6:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "nodeType": "BinaryOperation", "operator": "&&", "rightExpression": {"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 20047, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 20045, "name": "b", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20007, "src": "2296:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": "<=", "rightExpression": {"id": 20046, "name": "a", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20005, "src": "2301:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "2296:6:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "src": "2286:16:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}], "id": 20049, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "2285:18:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "src": "2263:40:40", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "id": 20053, "nodeType": "IfStatement", "src": "2259:54:40", "trueBody": {"expression": {"id": 20051, "name": "b", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20007, "src": "2312:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "functionReturnParameters": 20013, "id": 20052, "nodeType": "Return", "src": "2305:8:40"}}, {"expression": {"id": 20054, "name": "c", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 20009, "src": "2330:1:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "functionReturnParameters": 20013, "id": 20055, "nodeType": "Return", "src": "2323:8:40"}]}, "id": 20057, "implemented": true, "kind": "function", "modifiers": [], "name": "_median", "nameLocation": "2112:7:40", "nodeType": "FunctionDefinition", "parameters": {"id": 20010, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 20005, "mutability": "mutable", "name": "a", "nameLocation": "2128:1:40", "nodeType": "VariableDeclaration", "scope": 20057, "src": "2120:9:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 20004, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "2120:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 20007, "mutability": "mutable", "name": "b", "nameLocation": "2139:1:40", "nodeType": "VariableDeclaration", "scope": 20057, "src": "2131:9:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 20006, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "2131:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 20009, "mutability": "mutable", "name": "c", "nameLocation": "2150:1:40", "nodeType": "VariableDeclaration", "scope": 20057, "src": "2142:9:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 20008, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "2142:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "2119:33:40"}, "returnParameters": {"id": 20013, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 20012, "mutability": "mutable", "name": "", "nameLocation": "-1:-1:-1", "nodeType": "VariableDeclaration", "scope": 20057, "src": "2176:7:40", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 20011, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "2176:7:40", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "src": "2175:9:40"}, "scope": 20058, "src": "2103:235:40", "stateMutability": "pure", "virtual": false, "visibility": "internal"}], "scope": 20059, "src": "245:2095:40", "usedErrors": []}], "src": "45:2296:40"}, "bytecode": "60a060405234801561001057600080fd5b5060405161059f38038061059f83398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b60805161051461008b60003960006101e301526105146000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c806375151b631461003b5780638b2f0f4f14610080575b600080fd5b61006b61004936600461035d565b6001600160a01b031673f939e0a03fb07f59a73314e73794be0e57ac1b4e1490565b60405190151581526020015b60405180910390f35b61009361008e36600461035d565b6100a1565b604051908152602001610077565b600073f939e0a03fb07f59a73314e73794be0e57ac1b4e6001600160a01b038316146101095760405162461bcd60e51b81526020600482015260136024820152721d1bdad95b881b9bdd081cdd5c1c1bdc9d1959606a1b604482015260640160405180910390fd5b600061013d734dece678ceceb27446b35c672dc7d61f30bad69e73a0b86991c6218b36c1d19d4a2e9eb0ce3606eb486101bf565b9050600061017373390f3595bca2df7d23783dfd126427cceb997bf473dac17f958d2ee523a2206206994597c13d831ec76101bf565b905060006101a973ca978a0528116dda3cba9acd3e68bc6191ca53d0738e870d67f660d95d5be530380d0ec0bd388289e16101bf565b90506101b68383836102cb565b95945050505050565b604051638b2f0f4f60e01b81526001600160a01b03828116600483015260009182917f00000000000000000000000000000000000000000000000000000000000000001690638b2f0f4f90602401602060405180830381865afa15801561022a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061024e9190610386565b90506000846001600160a01b03166386fc88d36040518163ffffffff1660e01b8152600401602060405180830381865afa158015610290573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102b49190610386565b90506102c0828261033b565b925050505b92915050565b60008284101580156102dd5750818411155b806102f357508184101580156102f35750828411155b156102ff575082610334565b83831015801561030f5750818311155b8061032557508183101580156103255750838311155b15610331575081610334565b50805b9392505050565b60006103496012600a610499565b61035383856104a5565b61033491906104bc565b60006020828403121561036f57600080fd5b81356001600160a01b038116811461033457600080fd5b60006020828403121561039857600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b600181815b808511156103f05781600019048211156103d6576103d661039f565b808516156103e357918102915b93841c93908002906103ba565b509250929050565b600082610407575060016102c5565b81610414575060006102c5565b816001811461042a576002811461043457610450565b60019150506102c5565b60ff8411156104455761044561039f565b50506001821b6102c5565b5060208310610133831016604e8410600b8410161715610473575081810a6102c5565b61047d83836103b5565b80600019048211156104915761049161039f565b029392505050565b600061033483836103f8565b80820281158282048414176102c5576102c561039f565b6000826104d957634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220cb9538c2521ba3e6112e97e873ed0f7b8e5c4a445142d48f9a19bd60f275b55f64736f6c63430008110033", "bytecodeSha1": "aab84ca88868fade0df2f42f5d4ae4fd2e32eee6", "compiler": {"evm_version": "istanbul", "optimizer": {"enabled": true, "runs": 200}, "version": "0.8.17+commit.8df45f5f"}, "contractName": "CrvUsdOracle", "coverageMap": {"branches": {"110": {}, "40": {"CrvUsdOracle._median": {"8": [2200, 2206, false], "9": [2210, 2216, true], "10": [2222, 2228, false], "11": [2232, 2238, false], "12": [2264, 2270, false], "13": [2274, 2280, true], "14": [2286, 2292, false], "15": [2296, 2302, false]}}, "73": {}}, "statements": {"110": {"ScaledMath.mulDown": {"7": [274, 294]}}, "40": {"CrvUsdOracle._getCrvUsdPriceForCurvePool": {"3": [2047, 2090]}, "CrvUsdOracle._median": {"4": [2241, 2249], "5": [2305, 2313], "6": [2323, 2331]}, "CrvUsdOracle.getUSDPrice": {"1": [1249, 1305], "2": [1564, 1626]}, "CrvUsdOracle.isTokenSupported": {"0": [1727, 1751]}}, "73": {}}}, "dependencies": ["ICurvePriceOracle", "IOracle", "ScaledMath"], "deployedBytecode": "608060405234801561001057600080fd5b50600436106100365760003560e01c806375151b631461003b5780638b2f0f4f14610080575b600080fd5b61006b61004936600461035d565b6001600160a01b031673f939e0a03fb07f59a73314e73794be0e57ac1b4e1490565b60405190151581526020015b60405180910390f35b61009361008e36600461035d565b6100a1565b604051908152602001610077565b600073f939e0a03fb07f59a73314e73794be0e57ac1b4e6001600160a01b038316146101095760405162461bcd60e51b81526020600482015260136024820152721d1bdad95b881b9bdd081cdd5c1c1bdc9d1959606a1b604482015260640160405180910390fd5b600061013d734dece678ceceb27446b35c672dc7d61f30bad69e73a0b86991c6218b36c1d19d4a2e9eb0ce3606eb486101bf565b9050600061017373390f3595bca2df7d23783dfd126427cceb997bf473dac17f958d2ee523a2206206994597c13d831ec76101bf565b905060006101a973ca978a0528116dda3cba9acd3e68bc6191ca53d0738e870d67f660d95d5be530380d0ec0bd388289e16101bf565b90506101b68383836102cb565b95945050505050565b604051638b2f0f4f60e01b81526001600160a01b03828116600483015260009182917f00000000000000000000000000000000000000000000000000000000000000001690638b2f0f4f90602401602060405180830381865afa15801561022a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061024e9190610386565b90506000846001600160a01b03166386fc88d36040518163ffffffff1660e01b8152600401602060405180830381865afa158015610290573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102b49190610386565b90506102c0828261033b565b925050505b92915050565b60008284101580156102dd5750818411155b806102f357508184101580156102f35750828411155b156102ff575082610334565b83831015801561030f5750818311155b8061032557508183101580156103255750838311155b15610331575081610334565b50805b9392505050565b60006103496012600a610499565b61035383856104a5565b61033491906104bc565b60006020828403121561036f57600080fd5b81356001600160a01b038116811461033457600080fd5b60006020828403121561039857600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b600181815b808511156103f05781600019048211156103d6576103d661039f565b808516156103e357918102915b93841c93908002906103ba565b509250929050565b600082610407575060016102c5565b81610414575060006102c5565b816001811461042a576002811461043457610450565b60019150506102c5565b60ff8411156104455761044561039f565b50506001821b6102c5565b5060208310610133831016604e8410600b8410161715610473575081810a6102c5565b61047d83836103b5565b80600019048211156104915761049161039f565b029392505050565b600061033483836103f8565b80820281158282048414176102c5576102c561039f565b6000826104d957634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220cb9538c2521ba3e6112e97e873ed0f7b8e5c4a445142d48f9a19bd60f275b55f64736f6c63430008110033", "deployedSourceMap": "245:2095:40:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1639:119;;;;;;:::i;:::-;-1:-1:-1;;;;;1734:17:40;377:42;1734:17;;1639:119;;;;470:14:113;;463:22;445:41;;433:2;418:18;1639:119:40;;;;;;;;1161:472;;;;;;:::i;:::-;;:::i;:::-;;;643:25:113;;;631:2;616:18;1161:472:40;497:177:113;1161:472:40;1230:7;377:42;-1:-1:-1;;;;;1734:17:40;;;1249:56;;;;-1:-1:-1;;;1249:56:40;;881:2:113;1249:56:40;;;863:21:113;920:2;900:18;;;893:30;-1:-1:-1;;;939:18:113;;;932:49;998:18;;1249:56:40;;;;;;;;1315:22;1340:48;768:42;468;1340:27;:48::i;:::-;1315:73;;1398:22;1423:48;866:42;559;1423:27;:48::i;:::-;1398:73;;1481:22;1506:48;964:42;650;1506:27;:48::i;:::-;1481:73;;1571:55;1579:14;1595;1611;1571:7;:55::i;:::-;1564:62;1161:472;-1:-1:-1;;;;;1161:472:40:o;1764:333::-;1923:34;;-1:-1:-1;;;1923:34:40;;-1:-1:-1;;;;;1191:32:113;;;1923:34:40;;;1173:51:113;1882:7:40;;;;1923:14;:26;;;;1146:18:113;;1923:34:40;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1901:56;;1967:23;2011:10;-1:-1:-1;;;;;1993:42:40;;:44;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1967:70;-1:-1:-1;2054:36:40;:11;1967:70;2054:19;:36::i;:::-;2047:43;;;;1764:333;;;;;:::o;2103:235::-;2176:7;2205:1;2200;:6;;:16;;;;;2215:1;2210;:6;;2200:16;2199:40;;;;2227:1;2222;:6;;:16;;;;;2237:1;2232;:6;;2222:16;2195:54;;;-1:-1:-1;2248:1:40;2241:8;;2195:54;2269:1;2264;:6;;:16;;;;;2279:1;2274;:6;;2264:16;2263:40;;;;2291:1;2286;:6;;:16;;;;;2301:1;2296;:6;;2286:16;2259:54;;;-1:-1:-1;2312:1:40;2305:8;;2259:54;-1:-1:-1;2330:1:40;2103:235;;;;;;:::o;193:108:110:-;255:7;172:14;132:2;172;:14;:::i;:::-;282:5;286:1;282;:5;:::i;:::-;281:13;;;;:::i;14:286:113:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;168:23;;-1:-1:-1;;;;;220:31:113;;210:42;;200:70;;266:1;263;256:12;1235:184;1305:6;1358:2;1346:9;1337:7;1333:23;1329:32;1326:52;;;1374:1;1371;1364:12;1326:52;-1:-1:-1;1397:16:113;;1235:184;-1:-1:-1;1235:184:113:o;1424:127::-;1485:10;1480:3;1476:20;1473:1;1466:31;1516:4;1513:1;1506:15;1540:4;1537:1;1530:15;1556:422;1645:1;1688:5;1645:1;1702:270;1723:7;1713:8;1710:21;1702:270;;;1782:4;1778:1;1774:6;1770:17;1764:4;1761:27;1758:53;;;1791:18;;:::i;:::-;1841:7;1831:8;1827:22;1824:55;;;1861:16;;;;1824:55;1940:22;;;;1900:15;;;;1702:270;;;1706:3;1556:422;;;;;:::o;1983:806::-;2032:5;2062:8;2052:80;;-1:-1:-1;2103:1:113;2117:5;;2052:80;2151:4;2141:76;;-1:-1:-1;2188:1:113;2202:5;;2141:76;2233:4;2251:1;2246:59;;;;2319:1;2314:130;;;;2226:218;;2246:59;2276:1;2267:10;;2290:5;;;2314:130;2351:3;2341:8;2338:17;2335:43;;;2358:18;;:::i;:::-;-1:-1:-1;;2414:1:113;2400:16;;2429:5;;2226:218;;2528:2;2518:8;2515:16;2509:3;2503:4;2500:13;2496:36;2490:2;2480:8;2477:16;2472:2;2466:4;2463:12;2459:35;2456:77;2453:159;;;-1:-1:-1;2565:19:113;;;2597:5;;2453:159;2644:34;2669:8;2663:4;2644:34;:::i;:::-;2714:6;2710:1;2706:6;2702:19;2693:7;2690:32;2687:58;;;2725:18;;:::i;:::-;2763:20;;1983:806;-1:-1:-1;;;1983:806:113:o;2794:131::-;2854:5;2883:36;2910:8;2904:4;2883:36;:::i;2930:168::-;3003:9;;;3034;;3051:15;;;3045:22;;3031:37;3021:71;;3072:18;;:::i;3103:217::-;3143:1;3169;3159:132;;3213:10;3208:3;3204:20;3201:1;3194:31;3248:4;3245:1;3238:15;3276:4;3273:1;3266:15;3159:132;-1:-1:-1;3305:9:113;;3103:217::o", "language": "Solidity", "natspec": {"kind": "dev", "methods": {}, "version": 1}, "offset": [245, 2340], "opcodes": "PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x4 CALLDATASIZE LT PUSH2 0x36 JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x75151B63 EQ PUSH2 0x3B JUMPI DUP1 PUSH4 0x8B2F0F4F EQ PUSH2 0x80 JUMPI JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x6B PUSH2 0x49 CALLDATASIZE PUSH1 0x4 PUSH2 0x35D JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND PUSH20 0xF939E0A03FB07F59A73314E73794BE0E57AC1B4E EQ SWAP1 JUMP JUMPDEST PUSH1 0x40 MLOAD SWAP1 ISZERO ISZERO DUP2 MSTORE PUSH1 0x20 ADD JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST PUSH2 0x93 PUSH2 0x8E CALLDATASIZE PUSH1 0x4 PUSH2 0x35D JUMP JUMPDEST PUSH2 0xA1 JUMP JUMPDEST PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD PUSH2 0x77 JUMP JUMPDEST PUSH1 0x0 PUSH20 0xF939E0A03FB07F59A73314E73794BE0E57AC1B4E PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP4 AND EQ PUSH2 0x109 JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x13 PUSH1 0x24 DUP3 ADD MSTORE PUSH19 0x1D1BDAD95B881B9BDD081CDD5C1C1BDC9D1959 PUSH1 0x6A SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 REVERT JUMPDEST PUSH1 0x0 PUSH2 0x13D PUSH20 0x4DECE678CECEB27446B35C672DC7D61F30BAD69E PUSH20 0xA0B86991C6218B36C1D19D4A2E9EB0CE3606EB48 PUSH2 0x1BF JUMP JUMPDEST SWAP1 POP PUSH1 0x0 PUSH2 0x173 PUSH20 0x390F3595BCA2DF7D23783DFD126427CCEB997BF4 PUSH20 0xDAC17F958D2EE523A2206206994597C13D831EC7 PUSH2 0x1BF JUMP JUMPDEST SWAP1 POP PUSH1 0x0 PUSH2 0x1A9 PUSH20 0xCA978A0528116DDA3CBA9ACD3E68BC6191CA53D0 PUSH20 0x8E870D67F660D95D5BE530380D0EC0BD388289E1 PUSH2 0x1BF JUMP JUMPDEST SWAP1 POP PUSH2 0x1B6 DUP4 DUP4 DUP4 PUSH2 0x2CB JUMP JUMPDEST SWAP6 SWAP5 POP POP POP POP POP JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH4 0x8B2F0F4F PUSH1 0xE0 SHL DUP2 MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 DUP2 AND PUSH1 0x4 DUP4 ADD MSTORE PUSH1 0x0 SWAP2 DUP3 SWAP2 PUSH32 0x0 AND SWAP1 PUSH4 0x8B2F0F4F SWAP1 PUSH1 0x24 ADD PUSH1 0x20 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 DUP7 GAS STATICCALL ISZERO DUP1 ISZERO PUSH2 0x22A JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP POP POP POP PUSH1 0x40 MLOAD RETURNDATASIZE PUSH1 0x1F NOT PUSH1 0x1F DUP3 ADD AND DUP3 ADD DUP1 PUSH1 0x40 MSTORE POP DUP2 ADD SWAP1 PUSH2 0x24E SWAP2 SWAP1 PUSH2 0x386 JUMP JUMPDEST SWAP1 POP PUSH1 0x0 DUP5 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND PUSH4 0x86FC88D3 PUSH1 0x40 MLOAD DUP2 PUSH4 0xFFFFFFFF AND PUSH1 0xE0 SHL DUP2 MSTORE PUSH1 0x4 ADD PUSH1 0x20 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 DUP7 GAS STATICCALL ISZERO DUP1 ISZERO PUSH2 0x290 JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP POP POP POP PUSH1 0x40 MLOAD RETURNDATASIZE PUSH1 0x1F NOT PUSH1 0x1F DUP3 ADD AND DUP3 ADD DUP1 PUSH1 0x40 MSTORE POP DUP2 ADD SWAP1 PUSH2 0x2B4 SWAP2 SWAP1 PUSH2 0x386 JUMP JUMPDEST SWAP1 POP PUSH2 0x2C0 DUP3 DUP3 PUSH2 0x33B JUMP JUMPDEST SWAP3 POP POP POP JUMPDEST SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x0 DUP3 DUP5 LT ISZERO DUP1 ISZERO PUSH2 0x2DD JUMPI POP DUP2 DUP5 GT ISZERO JUMPDEST DUP1 PUSH2 0x2F3 JUMPI POP DUP2 DUP5 LT ISZERO DUP1 ISZERO PUSH2 0x2F3 JUMPI POP DUP3 DUP5 GT ISZERO JUMPDEST ISZERO PUSH2 0x2FF JUMPI POP DUP3 PUSH2 0x334 JUMP JUMPDEST DUP4 DUP4 LT ISZERO DUP1 ISZERO PUSH2 0x30F JUMPI POP DUP2 DUP4 GT ISZERO JUMPDEST DUP1 PUSH2 0x325 JUMPI POP DUP2 DUP4 LT ISZERO DUP1 ISZERO PUSH2 0x325 JUMPI POP DUP4 DUP4 GT ISZERO JUMPDEST ISZERO PUSH2 0x331 JUMPI POP DUP2 PUSH2 0x334 JUMP JUMPDEST POP DUP1 JUMPDEST SWAP4 SWAP3 POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH2 0x349 PUSH1 0x12 PUSH1 0xA PUSH2 0x499 JUMP JUMPDEST PUSH2 0x353 DUP4 DUP6 PUSH2 0x4A5 JUMP JUMPDEST PUSH2 0x334 SWAP2 SWAP1 PUSH2 0x4BC JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x36F JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP2 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 EQ PUSH2 0x334 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x398 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP MLOAD SWAP2 SWAP1 POP JUMP JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x11 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST PUSH1 0x1 DUP2 DUP2 JUMPDEST DUP1 DUP6 GT ISZERO PUSH2 0x3F0 JUMPI DUP2 PUSH1 0x0 NOT DIV DUP3 GT ISZERO PUSH2 0x3D6 JUMPI PUSH2 0x3D6 PUSH2 0x39F JUMP JUMPDEST DUP1 DUP6 AND ISZERO PUSH2 0x3E3 JUMPI SWAP2 DUP2 MUL SWAP2 JUMPDEST SWAP4 DUP5 SHR SWAP4 SWAP1 DUP1 MUL SWAP1 PUSH2 0x3BA JUMP JUMPDEST POP SWAP3 POP SWAP3 SWAP1 POP JUMP JUMPDEST PUSH1 0x0 DUP3 PUSH2 0x407 JUMPI POP PUSH1 0x1 PUSH2 0x2C5 JUMP JUMPDEST DUP2 PUSH2 0x414 JUMPI POP PUSH1 0x0 PUSH2 0x2C5 JUMP JUMPDEST DUP2 PUSH1 0x1 DUP2 EQ PUSH2 0x42A JUMPI PUSH1 0x2 DUP2 EQ PUSH2 0x434 JUMPI PUSH2 0x450 JUMP JUMPDEST PUSH1 0x1 SWAP2 POP POP PUSH2 0x2C5 JUMP JUMPDEST PUSH1 0xFF DUP5 GT ISZERO PUSH2 0x445 JUMPI PUSH2 0x445 PUSH2 0x39F JUMP JUMPDEST POP POP PUSH1 0x1 DUP3 SHL PUSH2 0x2C5 JUMP JUMPDEST POP PUSH1 0x20 DUP4 LT PUSH2 0x133 DUP4 LT AND PUSH1 0x4E DUP5 LT PUSH1 0xB DUP5 LT AND OR ISZERO PUSH2 0x473 JUMPI POP DUP2 DUP2 EXP PUSH2 0x2C5 JUMP JUMPDEST PUSH2 0x47D DUP4 DUP4 PUSH2 0x3B5 JUMP JUMPDEST DUP1 PUSH1 0x0 NOT DIV DUP3 GT ISZERO PUSH2 0x491 JUMPI PUSH2 0x491 PUSH2 0x39F JUMP JUMPDEST MUL SWAP4 SWAP3 POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH2 0x334 DUP4 DUP4 PUSH2 0x3F8 JUMP JUMPDEST DUP1 DUP3 MUL DUP2 ISZERO DUP3 DUP3 DIV DUP5 EQ OR PUSH2 0x2C5 JUMPI PUSH2 0x2C5 PUSH2 0x39F JUMP JUMPDEST PUSH1 0x0 DUP3 PUSH2 0x4D9 JUMPI PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x12 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST POP DIV SWAP1 JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0xCB SWAP6 CODESIZE 0xC2 MSTORE SHL LOG3 0xE6 GT 0x2E SWAP8 0xE8 PUSH20 0xED0F7B8E5C4A445142D48F9A19BD60F275B55F64 PUSH20 0x6F6C634300081100330000000000000000000000 ", "sha1": "1fd2374f51c3b9e22d4ce519df5897fc542e74f0", "source": "// SPDX-License-Identifier: GPL-3.0-or-later\npragma solidity 0.8.17;\n\nimport \"../../interfaces/IOracle.sol\";\nimport \"../../libraries/ScaledMath.sol\";\n\ninterface ICurvePriceOracle {\n    function price_oracle() external view returns (uint256);\n}\n\ncontract CrvUsdOracle is IOracle {\n    using ScaledMath for uint256;\n\n    // Tokens\n    address internal constant _CRVUSD = address(0xf939E0A03FB07F59A73314E73794Be0E57ac1b4E);\n    address internal constant _USDC = address(0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48);\n    address internal constant _USDT = address(0xdAC17F958D2ee523a2206206994597C13D831ec7);\n    address internal constant _USDP = address(0x8E870D67F660D95d5be530380D0eC0bd388289E1);\n\n    // Curve pools\n    address internal constant _CRVUSD_USDC = address(0x4DEcE678ceceb27446b35C672dC7d61F30bAD69E);\n    address internal constant _CRVUSD_USDT = address(0x390f3595bCa2Df7d23783dFd126427CCeb997BF4);\n    address internal constant _CRVUSD_USDP = address(0xCa978A0528116DDA3cbA9ACD3e68bc6191CA53D0);\n\n    IOracle internal immutable _genericOracle;\n\n    constructor(address genericOracle_) {\n        _genericOracle = IOracle(genericOracle_);\n    }\n\n    function getUSDPrice(address token_) external view override returns (uint256) {\n        require(isTokenSupported(token_), \"token not supported\");\n        uint256 priceFromUsdc_ = _getCrvUsdPriceForCurvePool(_CRVUSD_USDC, _USDC);\n        uint256 priceFromUsdt_ = _getCrvUsdPriceForCurvePool(_CRVUSD_USDT, _USDT);\n        uint256 priceFromUsdp_ = _getCrvUsdPriceForCurvePool(_CRVUSD_USDP, _USDP);\n        return _median(priceFromUsdc_, priceFromUsdt_, priceFromUsdp_);\n    }\n\n    function isTokenSupported(address token_) public pure override returns (bool) {\n        return token_ == _CRVUSD;\n    }\n\n    function _getCrvUsdPriceForCurvePool(\n        address curvePool_,\n        address token_\n    ) internal view returns (uint256) {\n        uint256 tokenPrice_ = _genericOracle.getUSDPrice(token_);\n        uint256 tokenPerCrvUsd_ = ICurvePriceOracle(curvePool_).price_oracle();\n        return tokenPrice_.mulDown(tokenPerCrvUsd_);\n    }\n\n    function _median(uint256 a, uint256 b, uint256 c) internal pure returns (uint256) {\n        if ((a >= b && a <= c) || (a >= c && a <= b)) return a;\n        if ((b >= a && b <= c) || (b >= c && b <= a)) return b;\n        return c;\n    }\n}\n", "sourceMap": "245:2095:40:-:0;;;1062:93;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1108:40:40;;;245:2095;;14:290:113;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:113;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:113:o;:::-;245:2095:40;;;;;;;;;;;;", "sourcePath": "contracts/oracles/CrvUsdOracle.sol", "type": "contract", "deployment": {"address": "0x2Ca33fe9A0816eAa77472e74FD56A0ff5e22890F", "chainid": "1", "blockHeight": 17414451}}